<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoundCloud Playlist</title>
    <script src="https://w.soundcloud.com/player/api.js"></script>
</head>
<body>
    <h1>Devabhasha: Songs, Shlokas and Mantras</h1>
    <h2>Class Play Group</h2>
    <iframe id="soundcloud-player" 
            width="100%" 
            height="166" 
            scrolling="no" 
            frameborder="no" 
            allow="autoplay"
            src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/0&auto_play=true">
    </iframe>
    <script>
        // List of SoundCloud track URLs
        const tracks = [
            "https://soundcloud.com/user-917156803/karagre-vasate-lakshmih", 
            "https://soundcloud.com/user-917156803/ya-devi-sarvabhuteshu", 
            "https://soundcloud.com/user-917156803/abhivadana",
            "https://soundcloud.com/user-917156803/chunnu-munnu",
            "https://soundcloud.com/user-917156803/31-nipatati-jambu-tap-tap",
        ];

        const iframe = document.getElementById('soundcloud-player');
        const widget = SC.Widget(iframe);

        let currentTrackIndex = 0;

        // Function to play the next track
        const playNextTrack = () => {
            if (currentTrackIndex < tracks.length) {
                const trackURL = tracks[currentTrackIndex];
                widget.load(trackURL, {
                    auto_play: true
                });
                currentTrackIndex++;
            } else {
                console.log("Playlist finished!");
            }
        };

        // When a track finishes, play the next track
        widget.bind(SC.Widget.Events.FINISH, playNextTrack);

        // Start playing the first track
        playNextTrack();
    </script>
</body>
</html>
